<!DOCTYPE html>
<html lang="en">

<head>
    <title>Goddess Anime Forums</title>
    <!-- Link Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Goddess Anime">
    <meta property="og:title" content="Goddess Anime Forums">
    <meta property="og:description" content="Join the discussions and share your love for anime with other fans.">
    <meta property="og:image"
        content="https://cdn.discordapp.com/attachments/1095920079205568532/1135812618410524702/Anime-Fox-Girls-Wallpaper-scaled.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="Goddess Anime Cards">
    <meta name="twitter:creator" content="@GoddessAnime">
    <meta name="twitter:card" content="summary_large_image">
    <meta content="#43B581" data-react-helmet="true" name="theme-color" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Join the discussions and share your love for anime with other fans.">
    <meta name="keywords"
        content="Shoob, Unfatal, Procs, Anime, Cards, Game, Kiyo, Indivoxy, HyperStar, Aqua, Konosuba, Watch anime online, Best anime series, Top anime movies, Free anime streaming, Popular anime characters, Japanese animation, Anime news, Anime reviews, Anime merchandise, Anime forums, Anime conventions, Cosplay costumes, Anime wallpapers, Anime blogs, Anime trailers, Anime subbed/dubbed, Anime recommendations, Anime memes, Anime fanart, Anime music, Discord bot, Anime bot, Card game bot, Anime card game, Trading card game, Collectible card game, Digital card game, Anime community, Anime social platform, Anime gaming, Anime culture, Otaku community, Manga, Anime characters, Anime episodes, Anime streaming, Anime OST, Anime trivia, Anime quiz, Anime quotes, Anime recommendations, Anime rankings, Anime events, Anime contests, Anime challenges, Anime role-playing, Anime discord server, Anime emojis, Anime reactions, Anime gifs, Anime fanfiction, Anime streaming services, Anime merchandise store, Anime figurines, Anime art books, Anime cosplay accessories, Anime conventions, Anime tournaments, Anime news updates, Anime discussion, Anime spoilers, Japanese anime, Anime voice actors, Anime voice actresses, Anime collaborations, Anime crossovers, Anime video games, Anime mobile games, Anime collectibles, Anime loot boxes, Anime virtual goods, Anime memes, Anime fan community, Anime fan clubs, Anime giveaways, Anime art contests, Anime fanart commissions, Anime music playlists, Anime AMVs, Anime karaoke, Anime cosplay tutorials, Anime fashion, Anime aesthetics, Anime character analysis, Anime lore, Anime world-building, Anime graphics, Anime videos, Anime podcasts, Anime watch parties, Anime voice chat, Anime memes discord, Anime bot commands, Anime bot features">
    <meta http-equiv="Content-Language" content="en">
    <meta name="robots" content="index, follow">
    <meta name="revisit-after" content="2 days">
    <style>
        /* Custom CSS styles go here */
        body {
            padding-top: 60px;
        }

        .navbar-brand {
            font-size: 24px;
        }

        .card {
            margin-bottom: 20px;
            border: 1px solid #ccc;
            background-color: #fff;
            transition: transform 0.2s;
        }

        .card:hover {
            transform: scale(1.02);
        }

        .card-body {
            padding: 1rem;
        }

        .card-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .card-text {
            color: #555;
        }

        .btn-primary {
            background-color: #ff4500;
            border-color: #ff4500;
        }

        .btn-primary:hover {
            background-color: #cc3700;
            border-color: #cc3700;
        }

        .avatars {
            position: absolute;
            bottom: 10px;
            right: 10px;
            display: flex;
        }

        .avatar {
            width: 32px;
            height: 32px;
            object-fit: cover;
            border-radius: 50%;
            margin-right: 5px;
        }

        .highlight {
            background-color: #ff4500;
            color: #fff;
        }

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-10px);
            }

            60% {
                transform: translateY(-5px);
            }
        }

        /* Apply the animation to the cards when they appear */
        .card.animate {
            animation: bounce 1s;
        }
    </style>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8677814295169281"
        crossorigin="anonymous"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-W7P4DXPXTW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-W7P4DXPXTW');
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body>
    <!-- Navigation Bar -->
    <%- include ("../templates/forums/header.ejs") %>

        <!-- Main Content -->
        <div class="container mt-4">
            <h1 class="text-center">Welcome to Goddess Anime Forums!</h1>
            <p class="text-center">Join the discussions and share your love for anime with other fans.</p>


            <div class="alert alert-danger" role="alert" id="error_alert" style="display: none;">
                <img src="/forum-assets/images/6426-error.png" alt="Error"
                    style="width: 32px; height: 32px; margin-right: 5px; float: left;">
                <h4 class="alert-heading">Error!</h4>
                <p>Uh oh! Something went wrong. Please try again later.</p>
                <hr>
                <p class="mb-0" id="error_message"></p>
            </div>

            <div class="alert alert-warning" role="alert" id="no-results" style="display: none;">
                <img src="/forum-assets/images/loadcat.gif" alt="Error"
                    style="width: 32px; height: 32px; margin-right: 5px; float: left;">
                <h4 class="alert-heading">No Results!</h4>
                <p>There are no results for your search query.</p>
                <hr>
                <p class="mb-0" id="no-results-message"></p>
            </div>

            <div class="row">
                <% if (forums.length===0) { %>
                    <div class="alert alert-danger d-flex align-items-center" role="alert">
                        <i class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" width="24" height="24"></i>
                        <div>
                            There are no forums to display. Please check back later, or create a new forum.
                        </div>
                    </div>
                    <% } else { %>
                        <% forums.forEach(forum=> { %>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-body position-relative">
                                        <h5 class="card-title">
                                            <%= forum.title %>
                                        </h5>
                                        <p class="card-text">
                                            <%= forum.shortDescription %>
                                        </p>
                                        <div class="avatars">
                                            <img src="<%= forum.creator.avatar %>"
                                                alt="<%= forum.creator.username %>'s Avatar" class="avatar"
                                                data-bs-toggle="tooltip" data-bs-title="<%= forum.creator.username %>">
                                        </div>
                                        <a href="/forum/<%= forum.id %>" class="btn btn-primary">View Details</a>
                                    </div>
                                </div>
                            </div>
                            <% }) %>
                                <% } %>
            </div>
        </div>
        </div>



        <!-- Link Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- SweetAlert2 -->
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

        <%- include ("../templates/forums/footer.ejs") %>

            <script>
                const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
                const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
            </script>

            <script>
                const searchBox = document.querySelector('#search-box');

                searchBox.addEventListener('keyup', (e) => {
                    const searchQuery = e.target.value.toLowerCase();
                    const allPosts = document.querySelectorAll('.card');
                    const noResultsAlert = document.querySelector('#no-results');

                    allPosts.forEach((post) => {
                        const title = post.querySelector('.card-title');
                        const body = post.querySelector('.card-text');

                        // Check if the search query is contained in the post title or post content
                        if (title.textContent.toLowerCase().includes(searchQuery) || body.textContent.toLowerCase().includes(searchQuery)) {
                            // If the search term is contained in the title or content, display the post card
                            post.style.display = 'block';
                            post.classList.add('animate');



                            // Highlight the search query in the title and body
                            const titleHTML = title.textContent.replace(new RegExp(searchQuery, 'gi'), match => `<span class="highlight">${match}</span>`);
                            title.innerHTML = titleHTML;

                            const bodyHTML = body.textContent.replace(new RegExp(searchQuery, 'gi'), match => `<span class="highlight">${match}</span>`);
                            body.innerHTML = bodyHTML;

                        } else {
                            // If the search term isn't contained in the title or content, hide the post card
                            post.style.display = 'none';
                        }
                    });

                    // Check if the search query is empty
                    if (isSearchEmpty()) {
                        noResultsAlert.style.display = 'none';
                    } else {
                        // If no posts match the search term, display a "No posts found" message
                        if (document.querySelectorAll('.card[style="display: none;"]').length === document.querySelectorAll('.card').length) {
                            noResultsAlert.style.display = 'block';
                            document.querySelector('#no-results-message').textContent = `There are no results for "${searchQuery}".`;
                        } else {
                            noResultsAlert.style.display = 'none';
                        }
                    }
                });

                function checkForUrlQuery() {
                    const urlParams = new URLSearchParams(window.location.search);
                    const query = urlParams.get('query') || urlParams.get('q');

                    if (query) {
                        searchBox.value = query;
                        searchBox.dispatchEvent(new KeyboardEvent('keyup'));
                    }
                }

                function getSearchQuery() {
                    const searchQuery = document.querySelector('#search-box').value;

                    return searchQuery;
                }

                function isSearchEmpty() {
                    const searchQuery = getSearchQuery();

                    if (searchQuery === '') {
                        return true;
                    } else {
                        return false;
                    }
                }

                checkForUrlQuery();
            </script>

</body>


</html>